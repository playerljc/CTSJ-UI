{"version":3,"sources":["droppable.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","_classCallCheck2","_createClass2","selectorPrefix","scrollStep","initEvents","_this","this","self","initDragSourceEvent","call","_self$config","config","_self$config$isDragSo","isDragSourceDisplay","_self$config$isDragSo2","isDragSourceExist","onBoundaryDetection","_self$config$infinite","infinite","el","addEventListener","ev","_self$disable","disable","isdown","ismove","sourceEl","style","visibility","curX","pageX","curY","pageY","incrementX","firstX","incrementY","firstY","moveInTargetEls","getMoveInTargetEls","ismovecanput","rect","boundaryDetection","condition","left","right","top","bottom","baseX","cloneEl","offsetWidth","concat","baseY","offsetHeight","boundaryDetectionScroll","bind","boundaryDetectionHandler","cancelAnimationFrame","complete","length","cursor","goBack","targetEls","_this2","_self$config2","_self$config2$dragSou","dragSourceExtendClasses","onDragClone","onSourceEnter","onSourceLeave","_self$config2$inclusi","inclusionRelation","sourceEventHanlder","WeakMap","_loop","i","sourceEls","handlerEntry","createCloneEl","cloneNode","className","join","border","handler","_self$disable2","getBoundingClientRect","setAttribute","minWidth","minHeight","position","zIndex","margin","reset","section","Put","completeTargetEls","flag","_i","Array","from","querySelectorAll","findIndex","appendChild","_self$disable3","_self$disable4","mousedown","mouseenter","mouseover","set","_self$config3","onPutSuccess","_self$config3$isDragS","cloneRect","cloneSourceEl","width","height","x","y","naturalRelease","fn","context","parentElement","removeChild","completeResult","sectionResult","cloneElRect","_this$config$dragTarg","dragTargetExtendClasses","_loop2","targetEl","forEach","Class","classList","remove","push","t","_this$config$noDragRe","noDragReturnAnimate","setTimeout","onTransitionend","removeEventListener","transition","transform","_this$config$dragTarg2","_loop3","preX","preY","cleft","ctop","_ref","scrollTop","scrollHeight","scrollerHeight","scrollLeft","scrollWidth","Droppable","assign","key","sourceHandlerEntry","get","p","DroppableFactory","create","_default"],"mappings":"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","file":"droppable.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\n/**\r\n *\r\n 配置:\r\n el\r\n {\r\n   能不能在自己里面drag\r\n   // 可以放置\r\n   onPutSuccess: Function sourceEl,targetEls,rect,\r\n   // 移动节点可以自定义, 如果在此返回指定的节点，那么 dragSourceExtendClasses 属性不生效\r\n   // 此节点为游离的dom节点，没有添加任何节点中\r\n   // 节点太小了鼠标没在元素区域内\r\n   onDragClone: Function sourceEl\r\n   // source节点进入(只有drag)\r\n   onSourceEnter: Function\r\n   // source节点离开(只有drag)\r\n   onSourceLeave: Function\r\n   onBoundaryDetection: Function 边缘检查 top | bottom | left | right 只要有一个触发则会被调用\r\n   // 拖动对象的附加样式，拖动移动起来后触发\r\n   dragSourceExtendClasses: Array,\r\n   // 可放置对象的附加样式，当拖动到可以放置的区域时触发\r\n   dragTargetExtendClasses: Array,\r\n   // 拖动后原始节点是否显示\r\n   isDragSourceDisplay: boolean,\r\n   // 拖动之后原始节点是否存在\r\n   isDragSourceExist: boolean,\r\n   // 不可放置的时候松开是否有动画返回效果\r\n   noDragReturnAnimate: boolean,\r\n   inclusionRelation: boolean 加入如果source和target为包含关系，则不能放入\r\n   isFree: boolean 是否是自由模式，自由模式只能拖动, 移动 (未实现)\r\n   infinite : boolean 是否无限扩展(不能拖出target)\r\n}\r\n\r\n 布局:\r\n <div class=\"ct-drag-source\"></div>\r\n <div class=\"ct-drag-target\"></div>\r\n\r\n 功能:\r\n .从哪拖到哪,怎么放置(谁能拖，谁能放，怎么放)\r\n\r\n .画布都有哪些扩展，移动到target的时候是有限制的，不能拖出无限滚动，\r\n 放的时候是自由放置\r\n 拖动到target里的元素可以自由移动\r\n\r\n 测试:\r\n\r\n log:\r\n .在el范围内拖动，而不是全局拖动\r\n .加入如果source和target为包含关系，则不能放入\r\n\r\n .无限拖动，画布跟着滚动 (在父容器里拖动的时候，拖动到目标容器(ct-drag-target)的时候)\r\n .只想移动，根本不想放入(在el范围内自由的移动)\r\n .Axure是鼠标不能出target的范围，不管是从左拽进来，还是在target自由移动，都是这样的\r\n 现在可以实现，但是不是自动的需要鼠标移动才能更新滚动条的位置\r\n\r\n demo:\r\n*/\nvar selectorPrefix = 'ct-droppable-';\nvar scrollStep = 5;\n/**\r\n * initEvents\r\n * @access private\r\n */\n\nfunction initEvents() {\n  var _this = this;\n\n  var self = this;\n  initDragSourceEvent.call(self);\n  var _self$config = self.config,\n      _self$config$isDragSo = _self$config.isDragSourceDisplay,\n      isDragSourceDisplay = _self$config$isDragSo === void 0 ? true : _self$config$isDragSo,\n      _self$config$isDragSo2 = _self$config.isDragSourceExist,\n      isDragSourceExist = _self$config$isDragSo2 === void 0 ? true : _self$config$isDragSo2,\n      onBoundaryDetection = _self$config.onBoundaryDetection,\n      _self$config$infinite = _self$config.infinite,\n      infinite = _self$config$infinite === void 0 ? false : _self$config$infinite; // document.body mousemove\n\n  self.el.addEventListener('mousemove', function (ev) {\n    var _self$disable = self.disable,\n        disable = _self$disable === void 0 ? false : _self$disable;\n    if (disable) return false;\n    if (!self.isdown) return false;\n\n    if (!self.ismove) {\n      self.ismove = true;\n\n      if (!isDragSourceDisplay || !isDragSourceExist) {\n        self.sourceEl.style.visibility = 'hidden';\n      }\n    }\n\n    var curX = ev.pageX;\n    var curY = ev.pageY;\n    var incrementX = curX - self.firstX;\n    var incrementY = curY - self.firstY; // 不是看curX和curY的值在不在targetEl里，而是看\n\n    var moveInTargetEls = getMoveInTargetEls.call(self); // 不是无限画布\n\n    if (!infinite) {\n      if (moveInTargetEls.complete.length > 0) {\n        // 可以放置\n        self.cloneEl.style.cursor = 'pointer';\n      } else {\n        // 不可以放\n        self.cloneEl.style.cursor = 'not-allowed';\n      }\n\n      self.cloneEl.style.left = \"\".concat(self.baseX + incrementX, \"px\");\n      self.cloneEl.style.top = \"\".concat(self.baseY + incrementY, \"px\");\n    } else if (self.ismovecanput) {\n      // 是无限画布\n      var boundaryDetection = moveInTargetEls.boundaryDetection;\n      var rect = boundaryDetection[0].rect; // if (condition.top) {\n      //   self.cloneEl.style.top = `${rect.top}px`;\n      // }\n      //\n      // if (condition.left) {\n      //   self.cloneEl.style.left = `${rect.left}px`;\n      // }\n      //\n      // if (condition.bottom) {\n      //   self.cloneEl.style.top = `${rect.bottom - self.cloneEl.offsetHeight}px`;\n      // }\n      //\n      // if (condition.right) {\n      //   self.cloneEl.style.left = `${rect.right - self.cloneEl.offsetWidth}px`;\n      // }\n      // if (!condition.top && !condition.bottom && !condition.left && !condition.right) {\n\n      var condition = {\n        left: false,\n        right: false,\n        top: false,\n        bottom: false\n      };\n\n      if (self.baseX + incrementX < rect.left || self.baseX + incrementX + self.cloneEl.offsetWidth > rect.right) {\n        if (self.baseX + incrementX < rect.left) {\n          self.cloneEl.style.left = \"\".concat(rect.left, \"px\");\n          condition.left = true;\n        }\n\n        if (self.baseX + incrementX + self.cloneEl.offsetWidth > rect.right) {\n          self.cloneEl.style.top = \"\".concat(rect.right - self.cloneEl.offsetWidth, \"px\");\n          condition.right = true;\n        }\n      } else {\n        self.cloneEl.style.left = \"\".concat(self.baseX + incrementX, \"px\");\n      }\n\n      if (self.baseY + incrementY < rect.top || self.baseY + incrementY + self.cloneEl.offsetHeight > rect.bottom) {\n        if (self.baseY + incrementY < rect.top) {\n          self.cloneEl.style.top = \"\".concat(rect.top, \"px\");\n          condition.top = true;\n        }\n\n        if (self.baseY + incrementY + self.cloneEl.offsetHeight > rect.bottom) {\n          self.cloneEl.style.top = \"\".concat(rect.bottom - self.cloneEl.offsetHeight, \"px\");\n          condition.bottom = true;\n        }\n      } else {\n        self.cloneEl.style.top = \"\".concat(self.baseY + incrementY, \"px\");\n      }\n\n      if (condition.left || condition.right || condition.top || condition.bottom) {\n        if (onBoundaryDetection) {\n          onBoundaryDetection(condition, boundaryDetectionScroll.bind(self));\n        }\n      } else if (self.boundaryDetectionHandler) {\n        cancelAnimationFrame(self.boundaryDetectionHandler);\n        self.boundaryDetectionHandler = null;\n      } // } else {\n      //   // self.ismovecanput = false;\n      //   if (onBoundaryDetection) {\n      //     onBoundaryDetection(condition, boundaryDetectionScroll);\n      //   }\n      // }\n\n    } else {\n      if (moveInTargetEls.complete.length > 0) {\n        // 可以放置\n        self.ismovecanput = true;\n        self.cloneEl.style.cursor = 'pointer';\n      } else {\n        // 不可以放\n        self.cloneEl.style.cursor = 'not-allowed';\n      }\n\n      self.cloneEl.style.left = \"\".concat(self.baseX + incrementX, \"px\");\n      self.cloneEl.style.top = \"\".concat(self.baseY + incrementY, \"px\");\n    }\n  }); // document.body mouseleave\n\n  self.el.addEventListener('mouseleave', function () {\n    if (!self.isdown) return false;\n    goBack.call(self, _this.sourceEl, _this.targetEls);\n  });\n}\n/**\r\n * initDragSourceEvent\r\n * @access private\r\n */\n\n\nfunction initDragSourceEvent() {\n  var _this2 = this;\n\n  var self = this;\n  var _self$config2 = self.config,\n      _self$config2$dragSou = _self$config2.dragSourceExtendClasses,\n      dragSourceExtendClasses = _self$config2$dragSou === void 0 ? [] : _self$config2$dragSou,\n      onDragClone = _self$config2.onDragClone,\n      onSourceEnter = _self$config2.onSourceEnter,\n      onSourceLeave = _self$config2.onSourceLeave,\n      _self$config2$inclusi = _self$config2.inclusionRelation,\n      inclusionRelation = _self$config2$inclusi === void 0 ? true : _self$config2$inclusi;\n  self.sourceEventHanlder = new WeakMap(); // dragSource\n\n  var _loop = function _loop(i) {\n    var sourceEl = _this2.sourceEls[i];\n    var handlerEntry = {}; // 点击 mousedown\n\n    sourceEl.addEventListener('mousedown', function () {\n      function createCloneEl() {\n        var cloneEl = sourceEl.cloneNode(true);\n\n        if (dragSourceExtendClasses) {\n          cloneEl.className += \" \".concat(dragSourceExtendClasses.join(' '));\n        } else {\n          cloneEl.style.border = '1px dashed black';\n        }\n\n        return cloneEl;\n      }\n\n      var handler = function handler(ev) {\n        var _self$disable2 = self.disable,\n            disable = _self$disable2 === void 0 ? false : _self$disable2;\n        if (disable) return false;\n        self.isdown = true;\n        self.sourceEl = sourceEl;\n        var rect = sourceEl.getBoundingClientRect();\n        self.baseX = rect.left;\n        self.baseY = rect.top;\n        self.firstX = ev.pageX;\n        self.firstY = ev.pageY; // create CloneNode\n\n        if (onDragClone) {\n          self.cloneEl = onDragClone(sourceEl);\n\n          if (!self.cloneEl) {\n            self.cloneEl = createCloneEl();\n          }\n        } else {\n          self.cloneEl = createCloneEl();\n        }\n\n        self.cloneEl.setAttribute('id', '');\n        self.cloneEl.style.minWidth = \"\".concat(sourceEl.offsetWidth, \"px\");\n        self.cloneEl.style.minHeight = \"\".concat(sourceEl.offsetHeight, \"px\");\n        self.cloneEl.style.position = 'fixed';\n        self.cloneEl.style.zIndex = '9999';\n        self.cloneEl.style.left = \"\".concat(self.baseX, \"px\");\n        self.cloneEl.style.top = \"\".concat(self.baseY, \"px\");\n        self.cloneEl.style.margin = '0';\n        self.cloneEl.addEventListener('mouseup', function () {\n          if (!self.ismove) {\n            reset.call(self);\n            return false;\n          }\n\n          var moveInTargetEls = getMoveInTargetEls.call(self);\n          var targetEls = [].concat(moveInTargetEls.section, moveInTargetEls.complete);\n\n          if (moveInTargetEls.complete.length > 0) {\n            // 可以放\n            // target和source可能是包含关系，target包含source\n            // 如果是包含关系可以放\n            if (inclusionRelation) {\n              Put.call(self, sourceEl, moveInTargetEls);\n            } else {\n              var completeTargetEls = moveInTargetEls.complete;\n              var flag = false;\n\n              for (var _i = 0; _i < completeTargetEls.length; _i++) {\n                var index = Array.from(completeTargetEls[_i].querySelectorAll(\".\".concat(selectorPrefix, \"source\"))).findIndex(function (el) {\n                  return el === sourceEl;\n                }); // 是兄弟的关系\n\n                if (index === -1) {\n                  flag = true;\n                  break;\n                }\n              } // 有兄弟\n\n\n              if (flag) {\n                Put.call(self, sourceEl, moveInTargetEls);\n              } else {\n                // 全是爸爸\n                goBack.call(self, sourceEl, targetEls);\n              }\n            }\n          } else {\n            // 不可以放\n            goBack.call(self, sourceEl, targetEls);\n          }\n        }); // append CloneNode\n\n        self.el.appendChild(self.cloneEl);\n      };\n\n      handlerEntry.mousedown = handler;\n      return handler;\n    }()); // 进入 mouseenter\n\n    sourceEl.addEventListener('mouseenter', function () {\n      var handler = function handler() {\n        var _self$disable3 = self.disable,\n            disable = _self$disable3 === void 0 ? false : _self$disable3;\n        if (disable) return false;\n        sourceEl.style.cursor = 'move';\n\n        if (onSourceEnter) {\n          onSourceEnter(sourceEl);\n        }\n      };\n\n      handlerEntry.mouseenter = handler;\n      return handler;\n    }()); // 移出 mouseleave\n\n    sourceEl.addEventListener('mouseleave', function () {\n      var handler = function handler() {\n        var _self$disable4 = self.disable,\n            disable = _self$disable4 === void 0 ? false : _self$disable4;\n        if (disable) return false;\n        sourceEl.style.cursor = 'default';\n\n        if (onSourceLeave) {\n          onSourceLeave(sourceEl);\n        }\n      };\n\n      handlerEntry.mouseover = handler;\n      return handler;\n    }()); // 记录mousedonw,mouseenter,mouseover事件的句柄\n\n    self.sourceEventHanlder.set(sourceEl, handlerEntry);\n  };\n\n  for (var i = 0; i < this.sourceEls.length; i++) {\n    _loop(i);\n  }\n}\n/**\r\n * Put\r\n * @param {HTMLElement} sourceEl\r\n * @param {Array<HTMLElement>} moveInTargetEls\r\n * @access private\r\n */\n\n\nfunction Put(sourceEl, moveInTargetEls) {\n  var self = this;\n  var targetEls = [].concat(moveInTargetEls.section, moveInTargetEls.complete);\n  var _self$config3 = self.config,\n      onPutSuccess = _self$config3.onPutSuccess,\n      _self$config3$isDragS = _self$config3.isDragSourceExist,\n      isDragSourceExist = _self$config3$isDragS === void 0 ? true : _self$config3$isDragS;\n\n  if (onPutSuccess) {\n    // 返给用的是原始节点克隆后的节点\n    var cloneRect = self.cloneEl.getBoundingClientRect();\n    var cloneSourceEl = sourceEl.cloneNode(true);\n    cloneSourceEl.style.visibility = 'visible';\n    cloneSourceEl.style.cursor = 'default';\n    var isPut = onPutSuccess({\n      cloneSourceEl: cloneSourceEl,\n      sourceEl: sourceEl,\n      targetEls: moveInTargetEls.complete,\n      rect: {\n        left: cloneRect.left,\n        right: cloneRect.right,\n        top: cloneRect.top,\n        bottom: cloneRect.bottom,\n        width: cloneRect.width,\n        height: cloneRect.height,\n        x: cloneRect.x,\n        y: cloneRect.y\n      },\n      naturalRelease: {\n        fn: naturalRelease,\n        context: self\n      }\n    });\n\n    if (isPut) {\n      // 放了\n      if (!isDragSourceExist) {\n        if (self.sourceEl) {\n          self.sourceEl.parentElement.removeChild(self.sourceEl);\n          self.sourceEl = null;\n        }\n      }\n\n      reset.call(self, targetEls);\n    } else {\n      // 没放\n      goBack.call(self, sourceEl, targetEls);\n    }\n  }\n}\n/**\r\n * getMoveInTargetEls\r\n * @access private\r\n */\n\n\nfunction getMoveInTargetEls() {\n  var completeResult = [];\n  var sectionResult = [];\n  var boundaryDetection = [];\n  var cloneElRect = this.cloneEl.getBoundingClientRect();\n  var _this$config$dragTarg = this.config.dragTargetExtendClasses,\n      dragTargetExtendClasses = _this$config$dragTarg === void 0 ? [] : _this$config$dragTarg;\n  var targetEls = this.targetEls;\n\n  var _loop2 = function _loop2(i) {\n    var targetEl = targetEls[i];\n    var rect = targetEl.getBoundingClientRect(); // 进入了target\n\n    if ((cloneElRect.left >= rect.left && cloneElRect.left <= rect.right || cloneElRect.right >= rect.left && cloneElRect.right <= rect.right) && (cloneElRect.top >= rect.top && cloneElRect.top <= rect.bottom || cloneElRect.bottom >= rect.top && cloneElRect.bottom <= rect.bottom)) {\n      if (dragTargetExtendClasses) {\n        dragTargetExtendClasses.forEach(function (Class) {\n          if (Class) {\n            targetEl.classList.remove(Class);\n          }\n        });\n        targetEl.className += \" \".concat(dragTargetExtendClasses.join(' '));\n      } else {\n        targetEl.style.border = '2px dashed black';\n      }\n\n      if (cloneElRect.left >= rect.left && cloneElRect.left <= rect.right && cloneElRect.right >= rect.left && cloneElRect.right <= rect.right && cloneElRect.top >= rect.top && cloneElRect.top <= rect.bottom && cloneElRect.bottom >= rect.top && cloneElRect.bottom <= rect.bottom) {\n        // 完全进入\n        completeResult.push(targetEl);\n      } else {\n        // 部分进入\n        sectionResult.push(targetEl);\n      }\n    } else if (dragTargetExtendClasses) {\n      dragTargetExtendClasses.forEach(function (t) {\n        if (t) {\n          targetEl.classList.remove(t);\n        }\n      });\n    } else {\n      targetEl.style.border = '0';\n    } // 不管进步进入target都去走边缘检查\n    // 只有完全进入的才进行边缘检测\n    // (上 | 下 | 左 | 右) 看那些条件符合\n\n\n    var condition = {\n      top: false,\n      bottom: false,\n      left: false,\n      right: false\n    };\n\n    if (cloneElRect.top < rect.top) {\n      condition.top = true;\n    }\n\n    if (cloneElRect.bottom > rect.bottom) {\n      condition.bottom = true;\n    }\n\n    if (cloneElRect.left < rect.left) {\n      condition.left = true;\n    }\n\n    if (cloneElRect.right > rect.right) {\n      condition.right = true;\n    } // console.log(cloneElRect, rect);\n\n\n    boundaryDetection.push({\n      el: targetEl,\n      condition: condition,\n      rect: rect\n    });\n  };\n\n  for (var i = 0; i < targetEls.length; i++) {\n    _loop2(i);\n  }\n\n  return {\n    complete: completeResult,\n    section: sectionResult,\n    boundaryDetection: boundaryDetection\n  };\n}\n/**\r\n * goBack\r\n * @param {HTMLElement} - sourceEl\r\n * @param {HTMLElement} - targetEls\r\n */\n\n\nfunction goBack(sourceEl, targetEls) {\n  var self = this;\n  var _this$config$noDragRe = this.config.noDragReturnAnimate,\n      noDragReturnAnimate = _this$config$noDragRe === void 0 ? false : _this$config$noDragRe;\n\n  if (noDragReturnAnimate) {\n    setTimeout(function () {\n      self.isdown = false;\n\n      function onTransitionend() {\n        self.cloneEl.removeEventListener('transitionend', onTransitionend);\n        reset.call(self, targetEls);\n        sourceEl.style.visibility = 'visible';\n      }\n\n      self.cloneEl.addEventListener('transitionend', onTransitionend);\n      self.cloneEl.style.transition = 'all .25s ease-out';\n      self.cloneEl.style.transform = 'translateZ(0)';\n      var rect = sourceEl.getBoundingClientRect();\n      self.cloneEl.style.left = \"\".concat(rect.left, \"px\");\n      self.cloneEl.style.top = \"\".concat(rect.top, \"px\");\n    }, 100);\n  } else {\n    reset.call(self, targetEls);\n    sourceEl.style.visibility = 'visible';\n  }\n}\n/**\r\n * reset\r\n * @param {Array<HTMLElement>} - targetEls\r\n * @access private\r\n */\n\n\nfunction reset(targetEls) {\n  var self = this;\n  var _this$config$dragTarg2 = this.config.dragTargetExtendClasses,\n      dragTargetExtendClasses = _this$config$dragTarg2 === void 0 ? [] : _this$config$dragTarg2;\n\n  if (self.cloneEl) {\n    self.el.removeChild(self.cloneEl);\n  } // 删除targets的样式\n\n\n  if (targetEls && targetEls.length > 0) {\n    var _loop3 = function _loop3(i) {\n      if (dragTargetExtendClasses) {\n        dragTargetExtendClasses.forEach(function (Class) {\n          if (Class) {\n            targetEls[i].classList.remove(Class);\n          }\n        });\n      } else {\n        targetEls[i].style.border = '0';\n      }\n    };\n\n    for (var i = 0; i < targetEls.length; i++) {\n      _loop3(i);\n    }\n  }\n\n  self.isdown = false;\n  self.ismove = false;\n  self.baseX = null;\n  self.baseY = null;\n  self.preX = null;\n  self.preY = null;\n  self.firstX = null;\n  self.firstY = null;\n  self.cloneEl = null;\n  self.sourceEl = null;\n  self.ismovecanput = false;\n\n  if (self.boundaryDetectionHandler) {\n    cancelAnimationFrame(self.boundaryDetectionHandler);\n    self.boundaryDetectionHandler = null;\n  }\n}\n/**\r\n * 自然的放\r\n * @param {HTMLElement} - targetEl 放哪\r\n * @param {HTMLElement} - sourceEl 谁放\r\n * @access private\r\n */\n\n\nfunction naturalRelease(targetEl, sourceEl) {\n  var self = this;\n  var cloneRect = self.cloneEl.getBoundingClientRect(); // cloneEl的getBoundingClientRect的left,top\n\n  var cleft = cloneRect.left;\n  var ctop = cloneRect.top; // 很大的那个元素\n\n  var rect = targetEl.getBoundingClientRect(); // 真正元素的left和right\n  // left: cloneEl的视口left-父亲视口left\n  // top: cloneEl的视口top-父亲视口top\n\n  var left = cleft - rect.left;\n  var top = ctop - rect.top; // 落户的节点\n  // left和top的赋值\n\n  sourceEl.style.position = 'absolute';\n  sourceEl.style.left = \"\".concat(left, \"px\");\n  sourceEl.style.top = \"\".concat(top, \"px\"); // const parentEl = Dom6.createElement(`<li style=\"position: absolute;left: ${left}px;top: ${top}px;\"></li>`);\n  // parentEl.appendChild(cloneEl);\n  // 放入很大的节点\n\n  targetEl.appendChild(sourceEl);\n}\n/**\r\n * 到达边缘的无限滚动\r\n * boundaryDetectionScroll\r\n * @param {Object} - condition\r\n * @param {HTMLElement} - targetEl\r\n * @access private\r\n */\n\n\nfunction boundaryDetectionScroll(_ref, targetEl) {\n  var top = _ref.top,\n      bottom = _ref.bottom,\n      left = _ref.left,\n      right = _ref.right;\n  var self = this;\n\n  if (top) {\n    if (targetEl.scrollTop !== 0) {\n      if (targetEl.scrollTop - scrollStep < 0) {\n        targetEl.scrollTop = 0; // if (self.boundaryDetectionHandler) {\n        //   cancelAnimationFrame(self.boundaryDetectionHandler);\n        //   self.boundaryDetectionHandler = null;\n        // }\n      } else {\n        targetEl.scrollTop -= scrollStep; // self.boundaryDetectionHandler = requestAnimationFrame(() => {\n        //   boundaryDetectionScroll.call(self, { top, bottom, left, right }, targetEl);\n        // });\n      }\n    }\n  }\n\n  if (bottom) {\n    if (targetEl.scrollTop !== targetEl.scrollHeight) {\n      if (targetEl.scrollTop + scrollStep > targetEl.scrollHeight) {\n        targetEl.scrollTop = targetEl.scrollerHeight; // if (self.boundaryDetectionHandler) {\n        //   cancelAnimationFrame(self.boundaryDetectionHandler);\n        //   self.boundaryDetectionHandler = null;\n        // }\n      } else {\n        targetEl.scrollTop += scrollStep; // self.boundaryDetectionHandler = requestAnimationFrame(() => {\n        //   boundaryDetectionScroll.call(self, { top, bottom, left, right }, targetEl);\n        // });\n      }\n    }\n  }\n\n  if (left) {\n    if (targetEl.scrollLeft !== 0) {\n      if (targetEl.scrollLeft - scrollStep < 0) {\n        targetEl.scrollLeft = 0; // if (self.boundaryDetectionHandler) {\n        //   cancelAnimationFrame(self.boundaryDetectionHandler);\n        //   self.boundaryDetectionHandler = null;\n        // }\n      } else {\n        targetEl.scrollLeft -= scrollStep; // self.boundaryDetectionHandler = requestAnimationFrame(() => {\n        //   boundaryDetectionScroll.call(self, { top, bottom, left, right }, targetEl);\n        // });\n      }\n    }\n  }\n\n  if (right) {\n    if (targetEl.scrollLeft !== targetEl.scrollWidth) {\n      if (targetEl.scrollLeft + scrollStep > targetEl.scrollWidth) {\n        targetEl.scrollLeft = targetEl.scrollWidth; // if (self.boundaryDetectionHandler) {\n        //   cancelAnimationFrame(self.boundaryDetectionHandler);\n        //   self.boundaryDetectionHandler = null;\n        // }\n      } else {\n        targetEl.scrollLeft += scrollStep; // self.boundaryDetectionHandler = requestAnimationFrame(() => {\n        //   boundaryDetectionScroll.call(self, { top, bottom, left, right }, targetEl);\n        // });\n      }\n    }\n  }\n}\n/**\r\n * Droppable\r\n * @class Droppable\r\n * @classdesc Droppable\r\n */\n\n\nvar Droppable =\n/*#__PURE__*/\nfunction () {\n  /**\r\n   * constructor\r\n   * @constructor\r\n   * @param {HTMLElement} - el\r\n   * @param {Object} - config\r\n   */\n  function Droppable(el, config) {\n    (0, _classCallCheck2[\"default\"])(this, Droppable);\n    this.el = el;\n    this.config = Object.assign({}, config);\n    this.disable = false;\n    this.sourceEls = this.el.querySelectorAll(\".\".concat(selectorPrefix, \"source\"));\n    this.targetEls = this.el.querySelectorAll(\".\".concat(selectorPrefix, \"target\"));\n    this.isdown = false; // 是否按下了\n\n    this.ismove = false; // 是否move了\n\n    this.baseX = null;\n    this.baseY = null; // 节点原始距离page的坐标\n\n    this.preX = null;\n    this.preY = null;\n    this.firstX = null;\n    this.firstY = null; // 第一次点击时page的坐标\n\n    this.cloneEl = null;\n    this.sourceEl = null;\n    this.ismovecanput = false; // 是否成功移动到target内部\n\n    this.boundaryDetectionHandler = null;\n    initEvents.call(this);\n  }\n  /**\r\n   * refresh\r\n   */\n\n\n  (0, _createClass2[\"default\"])(Droppable, [{\n    key: \"refresh\",\n    value: function refresh() {\n      for (var i = 0; i < this.sourceEls.length; i++) {\n        var sourceEl = this.sourceEls[i];\n        var sourceHandlerEntry = this.sourceEventHanlder.get(sourceEl);\n\n        for (var p in sourceHandlerEntry) {\n          sourceEl.removeEventListener(p, sourceHandlerEntry[p]);\n        }\n      }\n\n      this.sourceEls = this.el.querySelectorAll(\".\".concat(selectorPrefix, \"source\"));\n      this.targetEls = this.el.querySelectorAll(\".\".concat(selectorPrefix, \"target\"));\n      initDragSourceEvent.call(this);\n    }\n    /**\r\n     * setDisable\r\n     * @param {Boolean} - disable\r\n     */\n\n  }, {\n    key: \"setDisable\",\n    value: function setDisable(disable) {\n      this.disable = disable;\n    }\n  }]);\n  return Droppable;\n}();\n/**\r\n * DroppableFactory\r\n */\n\n\nvar DroppableFactory = {\n  /**\r\n   * 创建一个Droppable\r\n   * @param {HtmlElement} - el\r\n   * @param {Object} - config\r\n   * @return {Droppable} - Droppable\r\n   */\n  create: function create(el, config) {\n    return new Droppable(el, config);\n  }\n};\nvar _default = DroppableFactory;\nexports[\"default\"] = _default;"]}